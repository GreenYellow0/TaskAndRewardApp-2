<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Create Tar Lock</title>
  <link rel="stylesheet" href="/stylesheets/styles.css">
  <link rel="icon" href="/images/LOGO-removebg-preview.png" sizes="32x32">
</head>
<body>
    <h1>Create Tar Lock</h1>
    <form action="/savetarlock" method="POST">
        <label for="tarlockName">Tar Lock Name:</label>
        <input type="text" id="tarlockName" name="tarlockName" required><br><br>

        <h2>Tasks:</h2>
        <div id="taskContainer">
            <div>
                <label for="taskName">Task Name:</label>
                <input type="text" class="taskName" name="taskNames[]" required>
                <label for="taskCoins">Coins:</label>
                <input type="number" class="taskCoins" name="taskCoins[]" required>
            </div>
        </div>
        <button type="button" onclick="addNewTask()">Add New Task</button><br><br>
        

        <h2>Rewards:</h2>
        <div id="rewardContainer">
            <div>
                <label for="rewardName">Reward Name:</label>
                <input type="text" class="rewardName" name="rewardNames[]" required>
                <label for="rewardCoins">Coins:</label>
                <input type="number" class="rewardCoins" name="rewardCoins[]" required>
            </div>
        </div>
        <button type="button" onclick="addNewReward()">Add New Reward</button><br><br>

        <button type="submit">Save Tar Lock</button>
    </form>
    <script src="/script.js"></script>
    <script>
        let taskId = 1; // Unique ID for task inputs
        let rewardId = 1; // Unique ID for reward inputs
      
        function addNewTask() {
          const taskContainer = document.getElementById("taskContainer");
          const newTaskDiv = document.createElement("div");
          const taskIdAttr = `task-${taskId}`; // Unique ID for task input fields
          
          const taskNameInput = document.createElement("input");
          taskNameInput.type = "text";
          taskNameInput.classList.add("taskName");
          taskNameInput.name = `taskNames[]`;
          taskNameInput.id = `${taskIdAttr}-name`;
          taskNameInput.required = true;
          
          const taskCoinsInput = document.createElement("input");
          taskCoinsInput.type = "number";
          taskCoinsInput.classList.add("taskCoins");
          taskCoinsInput.name = `taskCoins[]`;
          taskCoinsInput.id = `${taskIdAttr}-coins`;
          taskCoinsInput.required = true;
          
          newTaskDiv.appendChild(document.createTextNode("Task Name: "));
          newTaskDiv.appendChild(taskNameInput);
          newTaskDiv.appendChild(document.createTextNode(" Coins: "));
          newTaskDiv.appendChild(taskCoinsInput);
          
          taskContainer.appendChild(newTaskDiv);
          taskId++;
        }
      
        function addNewReward() {
          const rewardContainer = document.getElementById("rewardContainer");
          const newRewardDiv = document.createElement("div");
          const rewardIdAttr = `reward-${rewardId}`; // Unique ID for reward input fields
          
          const rewardNameInput = document.createElement("input");
          rewardNameInput.type = "text";
          rewardNameInput.classList.add("rewardName");
          rewardNameInput.name = `rewardNames[]`;
          rewardNameInput.id = `${rewardIdAttr}-name`;
          rewardNameInput.required = true;
          
          const rewardCoinsInput = document.createElement("input");
          rewardCoinsInput.type = "number";
          rewardCoinsInput.classList.add("rewardCoins");
          rewardCoinsInput.name = `rewardCoins[]`;
          rewardCoinsInput.id = `${rewardIdAttr}-coins`;
          rewardCoinsInput.required = true;
          
          newRewardDiv.appendChild(document.createTextNode("Reward Name: "));
          newRewardDiv.appendChild(rewardNameInput);
          newRewardDiv.appendChild(document.createTextNode(" Coins: "));
          newRewardDiv.appendChild(rewardCoinsInput);
          
          rewardContainer.appendChild(newRewardDiv);
          rewardId++;
        }
      </script>
</body>
</html>
